ifndef::imagesdir[:imagesdir: ../images]

[[section-context-and-scope]]
== Context and Scope


ifdef::arc42help[]
[role="arc42help"]
****
.Contents
Context and scope - as the name suggests - delimits your system (i.e. your scope) from all its communication partners
(neighboring systems and users, i.e. the context of your system). It thereby specifies the external interfaces.

If necessary, differentiate the business context (domain specific inputs and outputs) from the technical context (channels, protocols, hardware).

.Motivation
The domain interfaces and technical interfaces to communication partners are among your system's most critical aspects. Make sure that you completely understand them.

.Form
Various options:

* Context diagrams
* Lists of communication partners and their interfaces.


.Further Information

See https://docs.arc42.org/section-3/[Context and Scope] in the arc42 documentation.

****
endif::arc42help[]

=== Business Context

ifdef::arc42help[]
[role="arc42help"]
****
.Contents
Specification of *all* communication partners (users, IT-systems, ...) with explanations of domain specific inputs and outputs or interfaces.
Optionally you can add domain specific formats or communication protocols.

.Motivation
All stakeholders should understand which data are exchanged with the environment of the system.

.Form
All kinds of diagrams that show the system as a black box and specify the domain interfaces to communication partners.

Alternatively (or additionally) you can use a table.
The title of the table is the name of your system, the three columns contain the name of the communication partner, the inputs, and the outputs.

****
endif::arc42help[]

[plantuml]
----
@startuml
skinparam componentStyle uml2

actor "User" as player
actor "Administrator" as admin

component  "Yovi System" as yovi

player --> yovi : Play games
admin --> yovi : Monitors the system status

@enduml
----

Diagram elements:

* **User:** Represents the end-user who interacts with the web application to play games and manage their profile.
* **Admin:** Represents the technical user responsible for overseeing the system's stability and performance via the internal monitoring dashboards.
* **Yovi:** Represents the complete system boundary (the scope of this project). It acts as a unified solution that encapsulates the game engine, user management, data persistence, and the observability infrastructure (Prometheus & Grafana).


=== Technical Context

ifdef::arc42help[]
[role="arc42help"]
****
.Contents
Technical interfaces (channels and transmission media) linking your system to its environment. In addition a mapping of domain specific input/output to the channels, i.e. an explanation which I/O uses which channel.

.Motivation
Many stakeholders make architectural decision based on the technical interfaces between the system and its context. Especially infrastructure or hardware designers decide these technical interfaces.

.Form
E.g. UML deployment diagram describing channels to neighboring systems,
together with a mapping table showing the relationships between channels and input/output.

****
endif::arc42help[]


[plantuml]
----
@startuml
skinparam componentStyle uml2
skinparam componentBackgroundColor white
skinparam packageBackgroundColor #F2F2F2
skinparam defaultTextAlignment center

' Ponemos a los actores en los extremos para abrir el diagrama
actor "Player" as player
actor "Administrator" as admin

rectangle "Web Browser (Game Client)" as browser {
    component "React App (SPA)" as spa
}

node "Docker Host (Localhost)" {
    package "monitor-net (Docker Network)" {
        component "WebApp (Frontend)" as webapp
        component "Users Service" as users
        component "Gamey Service" as gamey
        database "MongoDB" as mongo

        component "Grafana" as graf
        component "Prometheus" as prom
    }
}

player -> browser : Plays Game
browser --> webapp : Loads HTML/JS\n[HTTP:80]

spa ---> users : API Requests\n[HTTP/JSON :3000]
spa ---> gamey : API Requests\n[HTTP/JSON :4000]

users --> mongo : Reads/Writes Data
gamey --> mongo : Reads/Writes Data

admin --> graf : View Dashboards\n[HTTP :9091]


graf -> prom : Queries Data\n[:9090]
prom -up-> users : Scrapes Metrics\n[:3000]

@enduml
----


The Yovi system uses a set of HTTP interfaces for communication between microservices and to expose data to the actors (Player and Administrator). The communication channels represented in the architecture diagram are detailed below:

* **External access interfaces:**

** **Frontend Delivery Interface:** The Player's browser connects to the WebApp service via port 80 to download the static files (HTML, CSS, JavaScript) needed to run the Single Page Application (React).

** **User management API and game logic:** The React App (SPA) running in the browser interacts with the Users Service (port 3000) and the Game Service (port 4000), sending and receiving data exclusively in JSON format. These interfaces manage authentication and game mechanics using the HTTP protocol.

** **Display Interface:** This connection delivers the Grafana graphical interface to the Administrator via port 9091. It uses standard HTTP to serve the control panels for system monitoring.

* **Internal interfaces:**

** **Collection and consultation channel within the private network:** Prometheus makes periodic HTTP GET requests to the Users Service's internal port 3000 to collect technical health metrics. Simultaneously, Grafana queries the Prometheus database on port 9090 to retrieve historical data and generate graphs.

** **Data Persistence Interface:** Both the Users Service and the Gamey Service communicate directly with the internal MongoDB database. The Users Service manages user profiles and authentication, while the Gamey Service persists game logs and match history. These connections are strictly internal to the backend environment.